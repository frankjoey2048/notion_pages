<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–‡ä»¶å¯¼è§ˆ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Noto+Sans+SC:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #faf9f7;
            --bg-secondary: #f5f3f0;
            --text-primary: #1a1a1a;
            --text-secondary: #6b6b6b;
            --text-tertiary: #999;
            --accent: #c9a87c;
            --accent-hover: #b8956a;
            --border: #e8e6e3;
            --card-bg: #ffffff;
            --shadow: 0 2px 20px rgba(0,0,0,0.04);
            --shadow-hover: 0 8px 40px rgba(0,0,0,0.08);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        /* è£…é¥°èƒŒæ™¯ */
        .bg-decoration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }

        .bg-decoration::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 800px;
            height: 800px;
            background: radial-gradient(circle, rgba(201, 168, 124, 0.08) 0%, transparent 70%);
            border-radius: 50%;
        }

        .bg-decoration::after {
            content: '';
            position: absolute;
            bottom: -30%;
            left: -10%;
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(201, 168, 124, 0.05) 0%, transparent 70%);
            border-radius: 50%;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 60px 40px;
        }

        /* å¤´éƒ¨ */
        header {
            text-align: center;
            margin-bottom: 80px;
            animation: fadeInDown 0.8s ease-out;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-hover) 100%);
            border-radius: 16px;
            margin-bottom: 32px;
            box-shadow: 0 4px 20px rgba(201, 168, 124, 0.3);
        }

        .logo svg {
            width: 32px;
            height: 32px;
            color: white;
        }

        h1 {
            font-family: 'Instrument Serif', Georgia, serif;
            font-size: 3.5rem;
            font-weight: 400;
            letter-spacing: -0.02em;
            margin-bottom: 16px;
            color: var(--text-primary);
        }

        .subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            font-weight: 300;
        }

        /* è·¯å¾„å¯¼èˆª */
        .breadcrumb {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 48px;
            font-size: 0.9rem;
            animation: fadeIn 0.6s ease-out 0.2s both;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .breadcrumb a {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 6px 12px;
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .breadcrumb a:hover {
            color: var(--accent);
            background: var(--bg-secondary);
        }

        .breadcrumb span {
            color: var(--text-tertiary);
        }

        .breadcrumb .current {
            color: var(--text-primary);
            font-weight: 500;
        }

        /* ç»Ÿè®¡ä¿¡æ¯ */
        .stats {
            display: flex;
            justify-content: center;
            gap: 48px;
            margin-bottom: 48px;
            padding: 24px;
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: var(--shadow);
            animation: fadeIn 0.6s ease-out 0.3s both;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-family: 'Instrument Serif', serif;
            font-size: 2rem;
            color: var(--accent);
            line-height: 1;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-tertiary);
            margin-top: 4px;
        }

        /* æ–‡ä»¶ç½‘æ ¼ */
        .file-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .file-item {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 24px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow);
            border: 1px solid transparent;
            text-decoration: none;
            color: inherit;
            display: block;
            animation: fadeInUp 0.5s ease-out both;
        }

        .file-item:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
            border-color: var(--border);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .file-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
            transition: transform 0.3s ease;
        }

        .file-item:hover .file-icon {
            transform: scale(1.05);
        }

        .file-icon svg {
            width: 24px;
            height: 24px;
        }

        .file-icon.folder {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            color: #b45309;
        }

        .file-icon.file {
            background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
            color: #4338ca;
        }

        .file-icon.markdown {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            color: #047857;
        }

        .file-icon.image {
            background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
            color: #be185d;
        }

        .file-icon.code {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            color: #b91c1c;
        }

        .file-icon.pdf {
            background: linear-gradient(135deg, #ffedd5 0%, #fed7aa 100%);
            color: #c2410c;
        }

        .file-name {
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 6px;
            word-break: break-word;
            color: var(--text-primary);
        }

        .file-meta {
            font-size: 0.8rem;
            color: var(--text-tertiary);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .file-meta span {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading {
            text-align: center;
            padding: 80px 20px;
        }

        .spinner {
            width: 48px;
            height: 48px;
            border: 3px solid var(--border);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        /* é”™è¯¯/ç©ºçŠ¶æ€ */
        .empty-state {
            text-align: center;
            padding: 80px 20px;
            animation: fadeIn 0.5s ease-out;
        }

        .empty-icon {
            width: 80px;
            height: 80px;
            background: var(--bg-secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
        }

        .empty-icon svg {
            width: 40px;
            height: 40px;
            color: var(--text-tertiary);
        }

        .empty-title {
            font-size: 1.25rem;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .empty-desc {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        /* é…ç½®æç¤º */
        .config-notice {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-radius: 12px;
            padding: 20px 24px;
            margin-bottom: 32px;
            animation: fadeIn 0.5s ease-out;
        }

        .config-notice h3 {
            font-size: 1rem;
            color: #92400e;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .config-notice p {
            font-size: 0.9rem;
            color: #a16207;
            line-height: 1.6;
        }

        .config-notice code {
            background: rgba(255,255,255,0.5);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.85rem;
        }

        /* é¡µè„š */
        footer {
            text-align: center;
            margin-top: 80px;
            padding-top: 32px;
            border-top: 1px solid var(--border);
            color: var(--text-tertiary);
            font-size: 0.85rem;
        }

        footer a {
            color: var(--accent);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* å“åº”å¼ */
        @media (max-width: 768px) {
            .container {
                padding: 40px 20px;
            }

            h1 {
                font-size: 2.5rem;
            }

            .stats {
                gap: 24px;
                padding: 20px;
            }

            .stat-value {
                font-size: 1.5rem;
            }

            .file-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="bg-decoration"></div>
    
    <div class="container">
        <header>
            <div class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 00-1.883 2.542l.857 6a2.25 2.25 0 002.227 1.932H19.05a2.25 2.25 0 002.227-1.932l.857-6a2.25 2.25 0 00-1.883-2.542m-16.5 0V6A2.25 2.25 0 016 3.75h3.879a1.5 1.5 0 011.06.44l2.122 2.12a1.5 1.5 0 001.06.44H18A2.25 2.25 0 0120.25 9v.776" />
                </svg>
            </div>
            <h1>æ–‡ä»¶å¯¼è§ˆ</h1>
            <p class="subtitle">æµè§ˆä»“åº“ä¸­çš„æ‰€æœ‰æ–‡ä»¶ä¸ç›®å½•</p>
        </header>

        <nav class="breadcrumb" id="breadcrumb"></nav>

        <div class="stats" id="stats" style="display: none;">
            <div class="stat-item">
                <div class="stat-value" id="folder-count">0</div>
                <div class="stat-label">æ–‡ä»¶å¤¹</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="file-count">0</div>
                <div class="stat-label">æ–‡ä»¶</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="total-size">0</div>
                <div class="stat-label">æ€»å¤§å°</div>
            </div>
        </div>

        <main id="content">
            <div class="loading">
                <div class="spinner"></div>
                <p class="loading-text">æ­£åœ¨åŠ è½½æ–‡ä»¶åˆ—è¡¨...</p>
            </div>
        </main>

        <footer>
            <p>ç”± <a href="https://pages.github.com" target="_blank">GitHub Pages</a> é©±åŠ¨</p>
        </footer>
    </div>

    <script>
        // ========================================
        // é…ç½®åŒºåŸŸ - è¯·ä¿®æ”¹ä»¥ä¸‹ä¿¡æ¯
        // ========================================
        const CONFIG = {
            // ä½ çš„ GitHub ç”¨æˆ·å
            owner: 'frankjoey2048',
            // ä½ çš„ä»“åº“åç§°
            repo: 'notion_pages',
            // åˆ†æ”¯åç§°ï¼ˆé€šå¸¸æ˜¯ main æˆ– masterï¼‰
            branch: 'main',
            // è¦å±•ç¤ºçš„ç›®å½•è·¯å¾„ï¼ˆç©ºå­—ç¬¦ä¸²è¡¨ç¤ºæ ¹ç›®å½•ï¼‰
            basePath: '',
            // é¡µé¢æ ‡é¢˜
            title: 'æ–‡ä»¶å¯¼è§ˆ',
            // é¡µé¢å‰¯æ ‡é¢˜
            subtitle: 'æµè§ˆä»“åº“ä¸­çš„æ‰€æœ‰æ–‡ä»¶ä¸ç›®å½•',
            // è¦éšè—çš„æ–‡ä»¶/æ–‡ä»¶å¤¹ï¼ˆæ”¯æŒæ­£åˆ™ï¼‰
            hidePatterns: [
                /^\./, // éšè—ä»¥.å¼€å¤´çš„æ–‡ä»¶
                /^node_modules$/,
                /^package-lock\.json$/,
                /^yarn\.lock$/,
            ]
        };
        // ========================================

        // æ–‡ä»¶ç±»å‹å›¾æ ‡æ˜ å°„
        const FILE_ICONS = {
            folder: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z" />
            </svg>`,
            file: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
            </svg>`,
            markdown: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
            </svg>`,
            image: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
            </svg>`,
            code: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5" />
            </svg>`,
            pdf: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
            </svg>`
        };

        // è·å–æ–‡ä»¶ç±»å‹
        function getFileType(name, isDir) {
            if (isDir) return 'folder';
            const ext = name.split('.').pop().toLowerCase();
            const types = {
                markdown: ['md', 'markdown', 'mdx'],
                image: ['png', 'jpg', 'jpeg', 'gif', 'svg', 'webp', 'ico'],
                code: ['js', 'ts', 'jsx', 'tsx', 'py', 'java', 'c', 'cpp', 'h', 'css', 'scss', 'html', 'json', 'yaml', 'yml', 'xml', 'sh', 'bash', 'go', 'rs', 'vue', 'php'],
                pdf: ['pdf']
            };
            for (const [type, exts] of Object.entries(types)) {
                if (exts.includes(ext)) return type;
            }
            return 'file';
        }

        // æ ¼å¼åŒ–æ–‡ä»¶å¤§å°
        function formatSize(bytes) {
            if (bytes === 0) return '0 B';
            const k = 1024;
            const sizes = ['B', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
        }

        // æ£€æŸ¥æ˜¯å¦åº”è¯¥éšè—
        function shouldHide(name) {
            return CONFIG.hidePatterns.some(pattern => pattern.test(name));
        }

        // è·å–å½“å‰è·¯å¾„
        function getCurrentPath() {
            const hash = window.location.hash.slice(1);
            return hash || CONFIG.basePath;
        }

        // æ¸²æŸ“é¢åŒ…å±‘
        function renderBreadcrumb(path) {
            const breadcrumb = document.getElementById('breadcrumb');
            const parts = path ? path.split('/').filter(Boolean) : [];
            
            let html = `<a href="#${CONFIG.basePath}">ğŸ  æ ¹ç›®å½•</a>`;
            
            if (parts.length > 0) {
                let currentPath = '';
                parts.forEach((part, index) => {
                    currentPath += (currentPath ? '/' : '') + part;
                    html += `<span>/</span>`;
                    if (index === parts.length - 1) {
                        html += `<span class="current">${part}</span>`;
                    } else {
                        html += `<a href="#${currentPath}">${part}</a>`;
                    }
                });
            }
            
            breadcrumb.innerHTML = html;
        }

        // æ¸²æŸ“æ–‡ä»¶åˆ—è¡¨
        function renderFiles(files, path) {
            const content = document.getElementById('content');
            const stats = document.getElementById('stats');
            
            // è¿‡æ»¤éšè—æ–‡ä»¶
            files = files.filter(f => !shouldHide(f.name));
            
            if (files.length === 0) {
                stats.style.display = 'none';
                content.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z" />
                            </svg>
                        </div>
                        <h3 class="empty-title">æ­¤ç›®å½•ä¸ºç©º</h3>
                        <p class="empty-desc">å½“å‰ç›®å½•ä¸‹æ²¡æœ‰æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</p>
                    </div>
                `;
                return;
            }

            // æ’åºï¼šæ–‡ä»¶å¤¹åœ¨å‰ï¼Œæ–‡ä»¶åœ¨åï¼ŒæŒ‰åç§°æ’åº
            files.sort((a, b) => {
                if (a.type === 'dir' && b.type !== 'dir') return -1;
                if (a.type !== 'dir' && b.type === 'dir') return 1;
                return a.name.localeCompare(b.name);
            });

            // ç»Ÿè®¡ä¿¡æ¯
            const folders = files.filter(f => f.type === 'dir').length;
            const fileCount = files.length - folders;
            const totalSize = files.reduce((sum, f) => sum + (f.size || 0), 0);

            document.getElementById('folder-count').textContent = folders;
            document.getElementById('file-count').textContent = fileCount;
            document.getElementById('total-size').textContent = formatSize(totalSize);
            stats.style.display = 'flex';

            // æ¸²æŸ“æ–‡ä»¶ç½‘æ ¼
            let html = '<div class="file-grid">';
            
            files.forEach((file, index) => {
                const isDir = file.type === 'dir';
                const fileType = getFileType(file.name, isDir);
                const icon = FILE_ICONS[fileType] || FILE_ICONS.file;
                const href = isDir 
                    ? `#${file.path}` 
                    : `https://github.com/${CONFIG.owner}/${CONFIG.repo}/blob/${CONFIG.branch}/${file.path}`;
                const target = isDir ? '' : 'target="_blank"';
                
                html += `
                    <a class="file-item" href="${href}" ${target} style="animation-delay: ${index * 0.05}s">
                        <div class="file-icon ${fileType}">${icon}</div>
                        <div class="file-name">${file.name}</div>
                        <div class="file-meta">
                            <span>${isDir ? 'æ–‡ä»¶å¤¹' : formatSize(file.size)}</span>
                        </div>
                    </a>
                `;
            });
            
            html += '</div>';
            content.innerHTML = html;
        }

        // æ˜¾ç¤ºé…ç½®æç¤º
        function showConfigNotice() {
            const content = document.getElementById('content');
            content.innerHTML = `
                <div class="config-notice">
                    <h3>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        é…ç½®è¯´æ˜
                    </h3>
                    <p>è¯·ç¼–è¾‘æ­¤æ–‡ä»¶é¡¶éƒ¨çš„ <code>CONFIG</code> å¯¹è±¡ï¼Œè®¾ç½®ä½ çš„ GitHub ç”¨æˆ·åå’Œä»“åº“åï¼š</p>
                    <p style="margin-top: 12px;">
                        <code>owner: 'your-username'</code><br>
                        <code>repo: 'your-repo'</code>
                    </p>
                </div>
            `;
        }

        // æ˜¾ç¤ºé”™è¯¯
        function showError(message) {
            const content = document.getElementById('content');
            const stats = document.getElementById('stats');
            stats.style.display = 'none';
            
            content.innerHTML = `
                <div class="empty-state">
                    <div class="empty-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" />
                        </svg>
                    </div>
                    <h3 class="empty-title">åŠ è½½å¤±è´¥</h3>
                    <p class="empty-desc">${message}</p>
                </div>
            `;
        }

        // åŠ è½½ç›®å½•å†…å®¹
        async function loadDirectory(path) {
            const content = document.getElementById('content');
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            content.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <p class="loading-text">æ­£åœ¨åŠ è½½æ–‡ä»¶åˆ—è¡¨...</p>
                </div>
            `;

            // æ›´æ–°é¢åŒ…å±‘
            renderBreadcrumb(path);

            // æ£€æŸ¥é…ç½®
            if (CONFIG.owner === 'your-username' || CONFIG.repo === 'your-repo') {
                showConfigNotice();
                return;
            }

            try {
                const apiPath = path ? `/${path}` : '';
                const url = `https://api.github.com/repos/${CONFIG.owner}/${CONFIG.repo}/contents${apiPath}?ref=${CONFIG.branch}`;
                
                const response = await fetch(url);
                
                if (!response.ok) {
                    if (response.status === 404) {
                        throw new Error('ä»“åº“æˆ–è·¯å¾„ä¸å­˜åœ¨ï¼Œè¯·æ£€æŸ¥é…ç½®');
                    }
                    throw new Error(`API è¯·æ±‚å¤±è´¥ (${response.status})`);
                }
                
                const data = await response.json();
                
                if (!Array.isArray(data)) {
                    throw new Error('è¿”å›æ•°æ®æ ¼å¼é”™è¯¯');
                }
                
                renderFiles(data, path);
                
            } catch (error) {
                console.error('åŠ è½½å¤±è´¥:', error);
                showError(error.message);
            }
        }

        // æ›´æ–°é¡µé¢æ ‡é¢˜
        function updatePageInfo() {
            document.querySelector('h1').textContent = CONFIG.title;
            document.querySelector('.subtitle').textContent = CONFIG.subtitle;
            document.title = CONFIG.title;
        }

        // åˆå§‹åŒ–
        function init() {
            updatePageInfo();
            loadDirectory(getCurrentPath());
            
            // ç›‘å¬ hash å˜åŒ–
            window.addEventListener('hashchange', () => {
                loadDirectory(getCurrentPath());
            });
        }

        // å¯åŠ¨
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
